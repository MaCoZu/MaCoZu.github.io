import{l as k}from"../loadComponents-IR4gVqQb.js";import{S as u,c as A,e as G,s as b}from"../transform-D0hhaYzD.js";import{l as E,a as I,b as S}from"../axis-d8_a1sG8.js";import{e as $}from"../extent-Ccx1MofX.js";import{o as P}from"../ordinal-C-gnSqhx.js";import{c as H}from"../dsv-XhNTmijJ.js";import"../init-BFKUnIhM.js";function v(d){return typeof d=="string"?new u([document.querySelectorAll(d)],[document.documentElement]):new u([G(d)],A)}function q(d,D){const n={top:10,right:30,bottom:80,left:90},g=950-n.left-n.right,p=550-n.top-n.bottom,r=b(d).append("div").attr("id","chart-container").style("display","flex").style("flex-direction","row").style("align-items","center").append("svg").attr("width",g+n.left+n.right).attr("height",p+n.top+n.bottom).append("g").attr("transform",`translate(${n.left},${n.top})`);H(D).then(l=>{l.forEach(t=>{t.Country=t.Country,t.Region=t.Region,t.SDGi=+t.SDGi,t.HDI=+t.HDI,t["Life Exectancy"]=+t["Life Exectancy"],t["Per Capita GDP"]=+t["Per Capita GDP"],t["Income Group"]=+t["Income Group"],t["Population (millions)"]=+t["Population (millions)"],t["Number of Earths required"]=+t["Number of Earths required"]});const a=E().domain($(l,t=>t.HDI)).range([0,g]),o=E().domain($(l,t=>t["Number of Earths required"])).range([p,0]);r.append("g").attr("transform",`translate(0,${p})`).call(I(a)),r.append("text").attr("x",g/2).attr("y",p+60).style("text-anchor","middle").text("Human Development Index"),r.append("g").call(S(o)),r.append("text").attr("transform",`translate(-60, ${p/2}) rotate(-90)`).attr("text-anchor","middle").text("Number of Earths");const c=P().domain(["Africa","EU-27","Other Europe","Middle East/Central Asia","Asia-Pacific","North America","Central America/Caribbean","South America"]).range(["darkgoldenrod","blue","tan","darkolivegreen","crimson","blueviolet","fuchsia","purple"]);let m=null;const y=b("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("border","1px solid #ccc").style("padding","10px").style("border-radius","5px"),C=(t,e)=>{y.transition().duration(200).style("opacity",.9),y.html(`
                <table>
                    <tr><td>Country</td><td><strong>${e.Country}</strong></td></tr>
                    <tr><td>Region</td><td><strong>${e.Region}</strong></td></tr>
                    <tr><td>Earths required</td><td><strong>${e["Number of Earths required"]}</strong></td></tr>
                    <tr><td>SDG</td><td><strong>${e.SDGi.toFixed(2)}</strong></td></tr>
                    <tr><td>HDI</td><td><strong>${e.HDI.toFixed(2)}</strong></td></tr>
                    <tr><td>Life Expectancy</td><td><strong>${e["Life Exectancy"].toFixed(2)}</strong></td></tr>
                    <tr><td>GDP pc.</td><td><strong>$ ${e["Per Capita GDP"].toFixed(0)}</strong></td></tr>
                </table>
            `).style("left",`${t.pageX+10}px`).style("top",`${t.pageY-28}px`).style("z-index",10)},R=()=>{y.transition().duration(500).style("opacity",0)},h=(t,e)=>{const i=e.Region||e;v(".dot").transition().duration(200).style("fill",s=>s.Region===i?c(i):"grey").attr("r",s=>s.Region===i?7:3)},x=()=>{m||v(".dot").transition().duration(200).style("fill",t=>c(t.Region)).attr("r",4)},f=(t,e)=>{const i=e.Region||e;m===i?(m=null,x()):(m=i,h(t,e))};r.append("line").attr("id","ref-line").attr("x1",0).attr("x2",g).attr("y1",o(1)).attr("y2",o(1)).attr("stroke-width",2.5).attr("stroke-dasharray","3 3"),r.append("text").attr("id","bio-label").attr("x",10).attr("y",o(1)-10).text("World Biocapacity"),r.append("line").attr("id","ref-line").attr("x1",a(.7)).attr("x2",a(.7)).attr("y1",o(8.5)).attr("y2",o(.1)).attr("stroke-width",2).attr("stroke-dasharray","3 3"),r.append("text").attr("id","ref-label").attr("x",a(.71)).attr("y",o(8.2)).text("High"),r.append("line").attr("id","ref-line").attr("x1",a(.8)).attr("x2",a(.8)).attr("y1",o(8.5)).attr("y2",o(.1)).attr("stroke-width",2).attr("stroke-dasharray","3 3"),r.append("text").attr("id","ref-label").attr("x",a(.81)).attr("y",o(8.2)).selectAll("tspan").data(["Very high","human","development"]).enter().append("tspan").attr("x",a(.81)).attr("dy",(t,e)=>e===0?0:20).text(t=>t),r.append("rect").attr("id","sdg-quadrant").attr("x",a(.7)).attr("y",o(1)).attr("width",a(.26)).attr("height",54).style("opacity",.3),r.append("text").attr("id","bio-label").attr("x",a(.71)).attr("y",o(.54)).selectAll("tspan").data(["Global Sustainable","Development Quadrant"]).enter().append("tspan").attr("x",a(.71)).attr("dy",(t,e)=>e*20).text(t=>t),r.append("g").selectAll("dot").data(l).enter().append("circle").attr("class",t=>`dot ${t.Region.replace(/\s+/g,"")}`).attr("cx",t=>a(t.HDI)).attr("cy",t=>o(t["Number of Earths required"])).attr("r",4).style("fill",t=>c(t.Region)).on("mouseover",C).on("mouseout",R).on("click",f);const w=r.append("g").attr("class","legend").attr("transform","translate(50, 30)");c.domain().forEach((t,e)=>{const i=w.append("g").attr("transform",`translate(0, ${e*28})`);i.append("circle").attr("r",7).attr("fill",c(t)),i.append("text").attr("x",15).attr("y",5).style("font-size","14px").text(t),i.on("mouseover",s=>h(s,t)).on("mouseleave",x).on("click",s=>f(s,t)).style("cursor","pointer")})}).catch(l=>{console.error("Error loading the CSV file:",l)})}q("#eco_graph","./footprint.csv");const N=[{name:"navbar",targetId:"navbar"},{name:"footer",targetId:"footer"}];k(N);
