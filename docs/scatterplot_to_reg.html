<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>From Scatter to Regression Line</title>

    <!-- Favicon -->
    <link rel="icon" href="img/mz_black_bg.png" type="image/x-icon" />

    <!-- Fonts -->
    <link rel="stylesheet" href="../font.css">

    <!-- css  -->
    <link rel="stylesheet" href="style.css" />

    <!-- mathjax  -->
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            processEscapes: true
          }
        });
      </script>

    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <!-- Custom styles -->
    <style>
        .font-roboto {
            font-family: 'Roboto', sans-serif;
        }

        .font-merri {
            font-family: 'Merriweather', serif;
        }

        .font-pop {
            font-family: 'Poppins', sans-serif;
        }

        .font-lora {
            font-family: 'Lora', sans-serif;
        }

        .font-mserrat {
            font-family: 'Montserrat', sans-serif;
        }
    </style>
</head>



<body class="font-mserrat flex flex-col min-h-screen">

    <!-- Header section -->
    <nav class="bg-white border-gray-200 dark:bg-gray-900 dark:border-gray-700">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <a href="index.html" class="flex items-center space-x-3 rtl:space-x-reverse hover:scale-150">
                <img src="img/mz_logo.png" class="h-12" alt="MZ Logo" />
            </a>
            <button data-collapse-toggle="navbar-multi-level" type="button"
                class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
                aria-controls="navbar-multi-level" aria-expanded="false">
                <span class="sr-only">Open main menu</span>
                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M1 1h15M1 7h15M1 13h15" />
                </svg>
            </button>
            <div class="hidden w-full md:block md:w-auto" id="navbar-multi-level">
                <ul
                    class="flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">


                    <!-- Projects  -->
                    <li>
                        <button id="dropdownNavbarLink" data-dropdown-toggle="dropdownNavbar"
                            class="flex items-center justify-between w-full py-2 px-3 text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:hover:bg-gray-700 md:dark:hover:bg-transparent">
                            Projects
                            <svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 10 6">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="m1 1 4 4 4-4" />
                            </svg></button>
                        <!-- Dropdown menu -->
                        <div id="dropdownNavbar"
                            class="z-10 hidden font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600">
                            <ul class="py-2 text-sm text-gray-700 dark:text-gray-200"
                                aria-labelledby="dropdownLargeButton">
                                <!-- <li>
                                    <a href="#"
                                        class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Bureau
                                        Bot</a>
                                </li> -->
                                <li>
                                    <a href="scatterplot_to_reg.html"
                                        class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Articles</a>
                                </li>
                                <!-- <li>
                                    <a href="gallery.html"
                                        class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Visualizations</a>
                                </li> -->
                            </ul>
                        </div>
                    </li>

                    <!-- Contact  -->
                    <li>
                        <a class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                            data-drawer-target="drawer-right-example" data-drawer-show="drawer-right-example"
                            aria-controls="drawer-right-example" data-drawer-placement="right">
                            Contact
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>


    <!-- drawer component -->
    <div id="drawer-right-example"
        class="fixed top-0 right-0 z-40 h-screen p-4 overflow-y-auto transition-transform translate-x-full bg-white w-80 dark:bg-gray-800"
        tabindex="-1" aria-labelledby="drawer-right-label">

        <div class="flex justify-between items-center mb-8">
            <button type="button" data-drawer-hide="drawer-right-example" aria-controls="drawer-right-example"
                class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 absolute top-2.5 end-2.5 inline-flex items-center justify-center dark:hover:bg-gray-600 dark:hover:text-white">
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 14 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                </svg>
                <span class="sr-only">Close menu</span>
            </button>
        </div>

        <div class="mt-20">

            <!-- email adress  -->
            <p class="mb-2 text-gray-500 dark:text-gray-400">
            <div class="flex items-center mb-2 text-sm text-gray-500 dark:text-gray-400">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="mr-2" height="16" width="16"
                    viewBox="0 0 512 512">
                    <path
                        d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z" />
                </svg>
                <a href="#" class="text-lg hover:underline">marcoz@posteo.de</a>
            </div>
            </p>

            <!-- linked in  -->
            <p class="text-sm text-gray-500 dark:text-gray-400">
            <div class="flex items-center mb-2 text-sm text-gray-500 dark:text-gray-400">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="mr-2" height="16" width="16"
                    viewBox="0 0 512 512">
                    <path
                        d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" />
                </svg>
                <a href="https://www.linkedin.com/in/marcozausch/"
                    class="text-lg hover:underline">linkedin.com/in/marcozausch</a>
            </div>
            </p>

            <!-- telephone number  -->
            <p class="mt-4 text-lg text-gray-500 dark:text-gray-400">
            <p>
            <div class="flex items-center mb-2 text-sm text-gray-500 dark:text-gray-400">

                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="mr-2" height="16" width="16"
                    viewBox="0 0 512 512">
                    <path
                        d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z" />
                </svg>

                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="mr-2" height="16" width="16"
                    viewBox="0 0 496 512">
                    <path
                        d="M248 8C111 8 0 119 0 256S111 504 248 504 496 393 496 256 385 8 248 8zM363 176.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7 .2-.7 .3-3.1-1.2-4.4s-3.6-.8-5.1-.5q-3.3 .7-104.6 69.1-14.8 10.2-26.9 9.9c-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3q.8-6.7 18.5-13.7 108.4-47.2 144.6-62.3c68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6 .5 9.6 2.9a10.5 10.5 0 0 1 3.5 6.7A43.8 43.8 0 0 1 363 176.7z" />
                </svg>

                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="mr-2" height="16" width="16"
                    viewBox="0 0 448 512">
                    <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                    <path
                        d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z" />
                </svg>

                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="mr-2" height="16" width="16"
                    viewBox="0 0 512 512">
                    <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                    <path
                        d="M194.6 7.5l5.8 23.3C177.7 36.3 156 45.3 136 57.4L123.7 36.8c22-13.3 45.9-23.2 70.9-29.3zm122.9 0l-5.8 23.3C334.3 36.3 356 45.3 376 57.4l12.4-20.6c-22-13.3-46-23.2-71-29.3zM36.8 123.7c-13.3 22-23.2 45.9-29.3 70.9l23.3 5.8C36.3 177.7 45.3 156 57.4 136L36.8 123.7zM24 256c0-11.6 .9-23.3 2.6-34.8L2.9 217.6c-3.8 25.4-3.8 51.3 0 76.7l23.7-3.6C24.9 279.3 24 267.6 24 256zM388.3 475.2L376 454.6c-20 12.1-41.6 21-64.2 26.6l5.8 23.3c24.9-6.2 48.8-16 70.8-29.3zM488 256c0 11.6-.9 23.3-2.6 34.8l23.7 3.6c3.8-25.4 3.8-51.3 0-76.7l-23.7 3.6c1.7 11.5 2.6 23.1 2.6 34.8zm16.5 61.4l-23.3-5.8c-5.6 22.7-14.5 44.3-26.6 64.3l20.6 12.4c13.3-22 23.2-46 29.3-71zm-213.8 168c-23 3.5-46.5 3.5-69.5 0l-3.6 23.7c25.4 3.8 51.3 3.8 76.7 0l-3.6-23.7zm152-91.8c-13.8 18.7-30.4 35.3-49.2 49.1l14.2 19.3c20.7-15.2 39-33.4 54.2-54.1l-19.3-14.4zM393.6 69.2c18.8 13.8 35.3 30.4 49.2 49.2L462.1 104C446.9 83.4 428.6 65.1 408 49.9L393.6 69.2zM69.2 118.4c13.8-18.8 30.4-35.3 49.2-49.2L104 49.9C83.4 65.1 65.1 83.4 49.9 104l19.3 14.4zm406 5.3L454.6 136c12.1 20 21 41.6 26.6 64.2l23.3-5.8c-6.2-24.9-16-48.8-29.3-70.8zm-254-97.1c23-3.5 46.5-3.5 69.5 0l3.6-23.7C268.9-1 243.1-1 217.6 2.9l3.6 23.7zM81.6 468.4L32 480l11.6-49.6L20.2 425 8.6 474.5c-.9 4-.8 8.1 .3 12.1s3.2 7.5 6.1 10.4s6.5 5 10.4 6.1s8.1 1.2 12.1 .3L87 492l-5.4-23.6zM25.2 403.6L48.6 409l8-34.4c-11.7-19.6-20.4-40.8-25.8-63L7.5 317.4c5.2 21.2 13.2 41.7 23.6 60.8l-5.9 25.3zm112 52l-34.4 8 5.4 23.4 25.3-5.9c19.2 10.4 39.6 18.4 60.8 23.6l5.8-23.3c-22.1-5.5-43.3-14.3-62.8-26l-.2 .2zM256 48c-37.2 0-73.6 10-105.6 28.9s-58.4 46-76.3 78.6s-26.9 69.3-25.8 106.4s12 73.3 31.8 104.8L60 452l85.3-20c27.3 17.2 58.2 27.8 90.3 31s64.5-1.1 94.6-12.6s57.2-29.8 79-53.6s37.8-52.2 46.8-83.2s10.5-63.6 4.7-95.3s-19-61.6-38.4-87.4s-44.5-46.7-73.4-61S288.3 48 256 48z" />
                </svg>
            </div>
            </p>
            <p>
                <a href="#" class="text-lg">+49 15736896555</a>
            </p>
            </p>



        </div>
    </div>


    <!-- Main content -->
    <main class="flex-grow flex items-center justify-center py-20">
        <article class="font-pop prose prose-lg w-3/4 relative text-justify" style="max-width: 900px;">

            <h1>From Scatter Plot to Regression Line</h1>

            <section>
                <h2 id="introduction">Introduction</h2>
                <!-- table of contents  -->
                <div class="float-right">
                    <div class="border rounded-lg w-fit pl-4 pr-4 pb-0 pt-0 ml-6 mt-2 mb-1 shadow-sm z-40">
                        <p class="text-lg font-bold text-left border-b border-gray-300">Contents</p>
                        <ul class="text-base list-none text-left pl-0 ">
                            <li><a href="#introduction">Introduction</a>
                            <li><a href="#graph_of_averages">Graph of Averages</a>
                            <li><a href="#SD_Line">Standard Deviation Line</a>
                            <li><a href="#correlation_coeff">Pearson's Correlation</a>
                            <li><a href="#r_qualities">Notable qualities of $r$</a>
                            <li><a href="#regression_method">Regression Method</a>
                            <li><a href="#OLS">Method of Least Squares</a>
                        </ul>
                    </div>
                </div>
                <p>A scatter plot displays a series of observations on a Cartesian coordinate system where the two
                    dimensions ($x$ and $y$) represent features of our interest. Despite its simplicity, a scatter
                    plot offers valuable insights. At a glance, we can determine the range of values, clusters, and
                    outliers. Often, a likely association between the two features becomes apparent, and maybe we
                    can even imagine a line that models and extends the general trend the scatter plot points out.
                </p>


                <p>The visual characteristics of the scatterplot played a crucial role in the development of the
                    regression line. When Sir Francis Galton (in the early 19th century) plotted the heights of
                    parents
                    against the heights of their offspring, he noticed that taller parents tended to have taller
                    children, and shorter parents tended to have shorter children, but the heights of the
                    children
                    tended to move closer to the average height of the population. Galton called this phenomenon
                    "regression towards mediocrity", where extreme values (either tall or short) move closer to
                    the
                    average in subsequent generations.
                </p>



                <figure class="flex justify-center items-center">
                    <div>
                        <img src="img/galton.png" alt="SD Line">
                    </div>
                    <figcaption class="text-neutral-600 dark:text-neutral-400">

                    </figcaption>
                </figure>

                <p>Regression is a cornerstone in statistics and a core concept in modern machine learning,
                    whether you're attempting to find a third point by interpolating linearly between two known
                    points
                    or using a complex neural network for prediction, regression is always present in the
                    background.
                    This article will work out the regression line from a two-dimensional scatter plot in an
                    intuitive
                    way. Once we have a firm understanding of this process more advanced concepts will be easier to
                    grasp. </p>
            </section>

            <!-- graph of averages  -->
            <section>
                <h2 id="graph_of_averages">Graph of Averages</h2>

                <p>In the scatter plot above showing the average height of parents and their children, you might
                    have spotted a trend and a possible line describing the cloud of dots. With a simple trick, we
                    can fabricate a satisfyingly accurate line. Namely, we can group our observations along the
                    $x$-axis, calculate the group averages $\bar y_i$, map them on the cloud, and draw a line
                    through them, voilà, there is our <strong>graph of averages</strong>.
                </p>

                <figure class="flex flex-col justify-center items-center">
                    <div>
                        <iframe src="plots/graph_of_avg.html" title="Simple Scatter Plot" height="500" width="700"
                            scrolling="no" allowfullscreen loading="lazy" seamless></iframe>
                    </div>
                    <figcaption class="text-neutral-600 dark:text-neutral-400">
                        Change the number of groups to see how the Graph of Averages reacts.
                    </figcaption>
                </figure>

                <p>
                    The information of the scatter was condensed into a few dots. As shown in the plotted
                    graph, larger groups yield a smoother curve but sacrifice a lot of information. On the other
                    hand,
                    smaller groups
                    preserve more information, making the graph more sensitive to variations in the data.
                    This is
                    commonly referred to as the bias-variance trade-off or generalization versus overfitting
                    problem
                    when assessing (regression) models.
                </p>
                <p>
                    While the graph of averages may seem like a reasonable summarization of the relationship
                    between the
                    variables, it is essentially just a series of dots connected by a line without any
                    functional
                    expression. To construct a function for this graph, one would have to piece it together,
                    line by
                    line, from dot to dot. If we were to extract an estimate $\hat{y}$ from this
                    hypothetical graph, it
                    would require a linear interpolation along the line of the relevant $x$ segment of that
                    graph, which
                    is not what we're looking for.

                </p>
            </section>
            <!-- sd line  -->
            <section>
                <h2 id="SD_Line">Standard Deviation Line</h2>
                <p>
                    Another method to summarize the information stored in a scatter plot is by finding the
                    averages of
                    your variables and their standard deviations $s_{x}$ and $s_y$. The two averages mark
                    the <em>point
                        of
                        averages</em> ($\bar{x}, \bar{y}$), which sits in the middle of the cloud of
                    observations. The standard deviation is the most commonly used measure of the spread and is equal to
                    the square
                    root of the variance $s^2$. Often you'll see variance written like this $\sigma^2$ and standard
                    deviation as $\sigma$ which signify population parameters, that describe the whole population.
                    Normally, however,
                    only a sample is available, and measures obtained from samples are called (sample)
                    statistics.
                    Henceforth, I will refer to sample statistics and use their symbols since we usually
                    work with
                    sample data.
                </p>

                <p>
                    The standard deviation of $X$ can be thought of as a “typical” distance of the
                    observations $x_i$
                    from its mean, $\bar{x}$. Like the variance, the standard deviation is always a positive
                    number and
                    penalizes large deviations from the mean by squaring the errors.

                    $$s_{x} = \sqrt{\frac{\sum_{i=1}^{n}(x_i - \bar{x})^2}{n-1}}$$

                    The point of averages ($\bar{x}, \bar{y}$) and the standard deviations $s_{x}$ and $s_y$
                    help us
                    understand where the middle of all observations lies and what the typical deviation from
                    that point
                    is. By starting from the point of averages, we can draw a line that has a slope of
                    $\frac{s_y}{s_x}$. Each step of one $s_x$ (typical deviation from $\bar{x}$) along the
                    x-axis is
                    then associated with one step of $s_y$ (typical deviation from $\bar{y}$) on the
                    $y$-axis. This line
                    is referred to as the standard deviation line (or <em>SD Line</em> for short).
                </p>

                <figure class="flex justify-center items-center">
                    <div>
                        <img src="img/sd_new.png" alt="SD Line">
                    </div>
                    <figcaption class="text-neutral-600 dark:text-neutral-400">

                    </figcaption>
                </figure>

                <p>But this is a pretty rough measure. Remember that standard deviation is the average
                    deviation
                    from the mean and is calculated independently from the other variable. By combining the
                    two
                    standard deviations in a slope we only get a very general sense of the joint behavior of
                    the
                    two variables.
                </p>
                <p>Additionally, the direction of the line is missing. In the plot above I have identified a
                    positive correlation with a view to the scatter plot and drawn SD Line accordingly. But
                    If
                    the actual line was downward-sloping, the ratio $\frac{s_y}{s_x}$ would still be
                    positive,
                    as the standard deviations are always positive. In any way, we would like to have
                    mathematical proof of the correlation and its direction.
                </p>
                <p>The correlation coefficient will help us to gain a more detailed understanding of the
                    joint
                    movement of the variables and to quantify the direction of the correlation.
                </p>

            </section>

            <!-- correlation  -->
            <section>
                <h2 id="correlation_coeff">Pearson's Correlation</h2>
                <p>
                    Pearson's correlation coefficient is the most widely used measure of correlation, which
                    indicates the linear relationship between two observed phenomena. This coefficient is
                    unitless, allowing the examination of a relationship between values that cannot be
                    expressed
                    in the same units, such as height and weight.

                </p>
                <p>
                    The correlation coefficient, $r$, measures the strength and direction of the linear
                    relationship between two variables. It takes values between $-1$ and $1$, where the sign
                    indicates the direction of the relationship and the number indicates the strength of the
                    association. A positive $r$ value means that as one variable increases, the other also
                    increases, while a negative $r$ value means that as one variable increases, the other
                    decreases.
                </p>

                <figure class="flex justify-center items-center">
                    <div>
                        <img src="img/corrcoeff.svg" alt="Correlation coefficients">
                    </div>
                    <figcaption class="text-neutral-600 dark:text-neutral-400">

                    </figcaption>
                </figure>


                <p>
                    The limitation to linear relationships means that Pearson's correlation coefficient
                    would be
                    around zero for a random heap of dots (first subplot) as well as for a perfect quadratic
                    relationship (U-shaped subplot). Therefore, a low correlation coefficient should not be
                    mistaken
                    for independence of the variables. To be on the safe side plot your data and make sure
                    it is
                    monotonic (steadily increasing or decreasing), otherwise, the correlation coefficient
                    may not be
                    meaningful.
                </p>

                <p>
                    Another thing to keep in mind is that correlation measures association between
                    variables, but
                    association does not necessarily indicate causation. Correlation can be due to pure
                    coincidence
                    or a third, hidden factor (also known as a confounder) that independently affects the
                    observed
                    variables.
                </p>

                <p>Let's have a look at the formula of Pearson's correlation coefficient to understand what it does.
                    In both the numerator and denominator we calculate the deviations from the mean. The denominator
                    looks crowded but you can safely disregard it as the standardizing factor.<br />
                    $$r = \frac{\sum_{i=1}^{n}(x_i - \bar{x})(y_i - \bar{y})}{\sqrt{\sum_{i=1}^{n}(x_i -
                    \bar{x})^{2} \sum_{i=1}^{n}(y_i - \bar{y})^{2}}} $$<br />
                    The interesting part is happening in the numerator. Let's say we have an observation ($x_{i},
                    y_i$) that is to the right ($x_i&gt;\bar{x}$) and above the point of averages
                    ($y_i&gt;\bar{y}$). </p>
                <p>For this observation, we would multiply two positive values $(x_i - \bar{x})(y_i - \bar{y})$
                    yielding once again a positive value. Now take an observation to the left ($x_i&lt;\bar{x}$) and
                    below ($y_i&lt;\bar{y}$) the point of averages, both the deviations from the means are negative
                    but due to the negation of the minus sign by multiplication the result of $(x_i - \bar{x})(y_i -
                    \bar{y})$ is positive again. </p>

                <p>
                    When we have observations in the lower-left and upper-right quadrants, the numerator of
                    our equation is positive. Conversely, when we have observations in the upper-left and
                    lower-right
                    corners, the numerator is negative. The denominator standardizes the squared values in
                    the
                    numerator, which limits the resulting coefficient to a range of values between $-1$ and
                    $1$.
                    Imagine you have about the same number of observations sitting in positive and negative
                    quadrants in the plot below, their effect would cancel out and the correlation
                    coefficient
                    amounts to approximately zero. This is why Pearson's correlation coefficient only works
                    with
                    linear relationships.
                </p>

                <figure class="flex justify-center items-center">
                    <div>
                        <img src="img/correlation_quadrants.png" alt="Correlation quadrants">
                    </div>
                    <figcaption class="text-neutral-600 dark:text-neutral-400">

                    </figcaption>
                </figure>

                <p>
                    Perhaps you can now see why a positive correlation coefficient is obtained when the
                    majority
                    of observations are clustered in the lower-left and upper-right corners, while a
                    negative
                    coefficient is obtained for observations in the upper-left and lower-right areas.
                </p>

                <p>
                    The correlation coefficients formula can also be written as:$$r=\frac{s_{x y}}{s_xs_{y}}
                    $$where $s_{x y}=\frac{1}{n-1} \sum_{i=1}^{n}(x_i - \bar{x})(y_i - \bar{y})$ is the
                    <em>sample covariance</em> which measures the joint variability of $x$ and $y$ while
                    $s_x$
                    and
                    $s_{y}$ are the respective standard deviations that normalize the covariance. The
                    correlation
                    coefficient can thus be understood as a normalized version of the covariance.
                </p>
            </section>
            <!-- qualites of r  -->
            <section>
                <h2 id="r_qualities">Notable qualities of $r$</h2>
                <p></p>
                <ol>
                    <li>The coefficient $r$ measures linear association in relation to standard deviations.
                    </li>
                    <li>The sign indicates the direction of the association and the value its strength.</li>
                    <li>The correlation coefﬁcient is a unitless number. It is not affected by:
                        <ul>
                            <li>Interchanging the two variables.</li>
                            <li>Changes of scale: Adding the same number to one variable or multiplying all
                                its
                                values
                                by the same
                                positive number only changes the variable's scale and does not affect $r$.
                            </li>
                        </ul>
                    </li>
                </ol>
            </section>
            <!-- regression method  -->
            <section>
                <h2 id="regression_method">Regression Method</h2>
                <p>The abovementioned qualities of Pearson's coefficient have interesting implications.
                    Firstly, the
                    relative nature of the coefficient enables comparison between datasets of varying
                    scales.
                    Secondly, it provides the direction of the relationship with mathematical proof.
                    Finally, the
                    value of $r$ provides detailed information about the joint behavior of the two
                    variables. The
                    slope of ($\frac{s_y}{s_{x}}$) only contains insufficient info on joint behavior. But by
                    adjusting the slope of the SD Line with the correlation coefficient we obtain the proper
                    slope
                    of the regression line.<br />
                    $$r*\frac{s_y}{s_{x}}$$<br />
                    A line with this adjusted slope does only change by a certain percentage of the
                    'typical'
                    deviations from the point of averages. The sign tells us if the variables move in the
                    same
                    direction (upward-sloping, positive sign) or in opposing directions (downward-sloping,
                    negative
                    sign). Combining the slope of the SD Line and the correlation coefficient is called the
                    regression method in contrast to the more common method of arriving at a regression
                    parameter
                    namely the method of least squares.
                </p>
                <figure class="flex justify-center items-center">
                    <div>
                        <iframe src="plots/correlation_coeff_interact.html" title="correlation interact" width="700"
                            height="500" scrolling="no" allowfullscreen loading="lazy" seamless></iframe>
                    </div>
                    <figcaption class="text-neutral-600 dark:text-neutral-400">

                    </figcaption>
                </figure>
            </section>
            <!-- OLS  -->
            <section>
                <h2 id="OLS">Method of Least Squares</h2>
                <p>It is common to express the regression line using the following formula:<br />
                    $$\hat{y}=\hat\beta_0+\hat\beta_{1}x+\epsilon$$<br />
                    To draw this line, we start from the intercept $\hat\beta_0$ &mdash; the point where the line
                    crosses
                    the $y$-axis &mdash; and then extend the line by moving along the slope of $\hat\beta_1$ for
                    every
                    increment of $x$. Here, the slope $\hat\beta_1$ is the same as the one from the
                    regression
                    method but now derived through the method of least squares.</p>
                <p>The symbols' hats above signify that they are estimates. The function's right-hand side
                    consists
                    of two estimates ($\hat\beta_0, \hat\beta_{1}$), and thus, the outcome $\hat{y}$ is also
                    an
                    estimator for the observed value of $y$. We can evaluate our estimates by measuring how
                    far they
                    deviate from the actual values. The epsilon ($\epsilon$) in the formula represents the
                    combined
                    deviation of our estimates from the actual values. The so-called error term $\epsilon$
                    can be
                    understood as the impact of all unaccounted factors in the regression model.
                </p>
                <p>For one specific estimate we calculate the individual error $\epsilon_i$ as the
                    discrepancy
                    between the predicted value $\hat{y_i}$ and its actual observed value $y_i$ as:<br />
                    $$(y_{i} - \hat{y_i}) = \left[y_{i} - (\hat\beta_0+\hat\beta_{1}x_i)\right]$$
                    If you're attempting to fit a straight line to the data, the errors (of prediction) are
                    the vertical
                    distances between the observed and estimated values. In other words, they are the
                    distances between
                    the dots and the line in the plot below.</p>

                <figure class="flex justify-center items-center">
                    <div>
                        <img src="img/reg_line.png" alt="Errors of prediction" style="width: 700px; height: 500px;">
                    </div>
                    <figcaption class="text-neutral-600 dark:text-neutral-400">

                    </figcaption>
                </figure>

                <p>The general idea behind the method of least squares is to minimize the overall errors
                    between estimates and observations. Therefore the sum of the squared errors (SSE) is minimized.

                    $$min\left\{\sum[y_i-(\hat\beta_0+\hat\beta_{1}x_i)]^2\right\}$$

                <p>Taking the squared errors has two benefits. First of all if we minimize the sum of
                    un-squared errors we might find multiple minima, but it can be shown that there is one (and only
                    one) line for which the SSE is a minimum. More specifically it transforms the minimization
                    problem
                    into a convex optimization problem, allowing for the use of derivatives to determine optimal
                    parameters. Secondly squaring errors accentuates larger deviations, this can potentially
                    prevent overfitting but also lead to over-simplification (generalization versus overfitting).
                </p>
                <p>By optimizing the above function we find the quantities of $\hat\beta_0$ and
                    $\hat\beta_{1}$ that
                    yield the least square error. </p>
                <p>In math it looks like this:<br />
                    $$\text{Find }\min_{\beta_{0}, \,\beta_1} Q(\beta_{0}, \,\beta_1), \quad\quad \text{for
                    }
                    Q(\beta_{0},\,\beta_1) = \sum (y_i - (\beta_0 + \beta_1 x_i))^2$$
                    $$\frac{\partial Q(\beta_{0}, \beta_1)}{\beta_{0}}\quad \rightarrow \quad
                    \hat\beta_{0}=\bar{y}-\hat{\beta_1}\bar{x}$$
                    $$\frac{\partial Q(\beta_{0}, \beta_1)}{\beta_{1}}\quad \rightarrow \quad \hat{\beta_1}=
                    \frac{\sum
                    (x_i - \bar{x})(y_i - \bar{y})}{\sum (x_i - \bar{x})^{2}} = \frac{s_{x y}}{s_x^2}$$
                    <br />
                <p> They are called the least squares estimates of the population parameters $\beta_0$ and
                    $\beta_1$,
                    and the prediction equation $\hat{y}=\hat\beta_0+\hat\beta_{1}x+\epsilon$ is called the
                    least
                    squares line.</p>
                <p> I have said before that this slope of $\hat\beta_1$ is the same as the one worked out by
                    combining the slope of the SD Line and the correlation coefficient. Here is how they're
                    connected in symbols:<br />
                    $$\hat\beta_1=r \frac{s_y}{s_{x}}=\frac{s_{x y}}{s_{x}\thinspace
                    s_{y}}\,\frac{s_y}{s_{x}} =\frac{s_{x y}}{s_{x}^2}$$<br />
                    where $r$ is the correlation coefficient, $s_x$ and $s_y$ are the sample standard
                    deviations,
                    $s_{xy}$ the sample covariance and $s_x$ is the sample variance of $x$. </p>
                </p>
                <p>Let's see how we find the intercept $\hat\beta_0$. <br />
                    $$\hat\beta_{0}=\bar{y}-\hat{\beta_1}\bar{x}$$<br />
                    It's pretty straightforward, once we have the slope of the regression line we can walk from the
                    point of averages ($\bar x, \, \bar y$) along the regression line towards the point where it
                    intersects with the $y$-axis ($x=0$) this is our intercept $\hat\beta_0$.
                </p>
                <figure class="flex justify-center items-center">
                    <div>
                        <img src="img/intercept.png" alt="Intercept" style="width: 700px; height: 500px;">
                    </div>
                    <figcaption class="text-neutral-600 dark:text-neutral-400">

                    </figcaption>
                </figure>

            </section>

        </article>
    </main>


    <!--Footer container-->
    <footer class="bg-white dark:bg-gray-900">
        <div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">
            <div class="md:flex md:justify-between">

            </div>
            <hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8" />
            <div class="sm:flex sm:items-center sm:justify-between">
                <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400">© 2023
                    <a href="" class="hover:underline">Marco Zausch
                    </a>. All Rights Reserved.
                </span>

                <!-- home button & up arrow  -->
                <div class="flex mt-4 sm:justify-center sm:mt-0">
                    <a href="index.html" class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" height="16" width="18"
                            viewBox="0 0 576 512">
                            <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                            <path
                                d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z" />
                        </svg>
                    </a>

                    <a href="#top" class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5">
                        <svg xmlns="http://www.w3.org/2000/svg" height="16" width="12" fill="currentColor"
                            viewBox="0 0 384 512">
                            <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                            <path
                                d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z" />
                        </svg>
                    </a>
                </div>

                <div class="flex mt-4 sm:justify-center sm:mt-0">
                    <a href="https://github.com/MaCoZu"
                        class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5">
                        <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"
                                clip-rule="evenodd" />
                        </svg>
                        <span class="sr-only">GitHub account</span>
                    </a>

                    <a href="#" class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5">
                        <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 512 512" data-drawer-target="drawer-right-example"
                            data-drawer-show="drawer-right-example" aria-controls="drawer-right-example"
                            data-drawer-placement="right">
                            <path fill-rule="evenodd"
                                d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z" />
                        </svg>
                        <span class="sr-only">Email</span>
                    </a>

                    <a href="https://www.linkedin.com/in/marcozausch/"
                        class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5">
                        <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 512 512">
                            <path fill-rule="evenodd"
                                d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" />
                        </svg>
                        <span class="sr-only">LinkedIn</span>
                    </a>

                </div>
            </div>
        </div>
    </footer>


    <script type="module" src="./node_modules/flowbite/dist/flowbite.min.js"></script>
    <script type="module" src="./main.js"></script>

</body>

</html>