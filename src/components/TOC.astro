---
// src/components/TOC.astro
interface Props {
    headings: {
        depth: number;
        slug: string;
        text: string;
    }[];
}

const { headings } = Astro.props;
---

<aside
    id="toc"
    class="hidden lg:block w-64 shrink-0 sticky top-24 self-start h-fit
           max-h-[calc(100vh-10rem)] transition-all duration-800 opacity-40 hover:opacity-100 delay-50"
>
    <nav class="text-xs space-y-1 bg-base overflow-y-auto max-h-full px-2">
        <h3 class="font-semibold mb-2 text-lg text-secondary">Inhaltsverzeichnis</h3>
        <ul class="list-none pl-0">
            {
                headings.map((h) => (
                    <li
                        class={`${h.depth === 3 ? "ml-3" : ""} leading-snug my-1.5`}
                    >
                        <a
                            href={`#${h.slug}`}
                            class="text-secondary hover:text-tertiary transition-all line-clamp-1 hover:line-clamp-none delay-200 duration-800"
                        >
                            {h.text}
                        </a>
                    </li>
                ))
            }
        </ul>
    </nav>
</aside>
