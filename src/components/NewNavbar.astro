---
import '../styles/global.css';
---

<!-- NAV BAR -->
<nav
  class="sticks md:relative h-[4rem] md:h-[2.7rem] top-3 left-0 right-0 border-b-0 z-50 max-sm:px-5"
>
  <div class="container mx-auto py-2 md:py-1">
    <div class="grid grid-cols-3 items-center py-[6px]">
      <a href="/" class="flex items-center">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="24" height="24">
          <path
            class="fill-currentColor dark:invert"
            d="M273.3 50.5 38 285.9a1.8 1.8 0 0 0 1.3 3h235.3q1.6-.1 1.8-1.7V51.8c0-1.6-2-2.5-3-1.3m-36 199.5H129l108.5-108.4zm-212.7-2.5L260 12c1-1 .6-2.6-.6-3h-1L111 78.2c-7.8 3.6-17 2-23.1-4.2L24.2 10c-.9-1-2.6-.5-2.7.8v235.5c0 1.6 2 2.4 3.2 1.2"
          ></path>
        </svg>
      </a>

      <!-- Mobile menu button -->
      <div class="md:hidden col-start-3 justify-self-end">
        <button
          id="mobileMenuButton"
          class="p-2 text-primary rounded-md hover:text-indigo-700 focus:outline-none"
        >
          <svg
            id="menuOpen"
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
          <svg
            id="menuClose"
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 hidden"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <!-- Desktop navigation -->
      <div class="hidden md:flex justify-end col-start-3">
        <div class="flex space-x-8 uppercase text-[16px]">
          <a class="font-normal hover:text-tertiary" href="/">data</a>

          <div class="relative group">
            <button class="font-normal uppercase text-[16px] hover:text-tertiary">other</button>

            <!-- Subnav container - full width, positioned absolutely -->
            <div
              class="absolute right-0 top-full bg-transparent overflow-hidden h-0 group-hover:h-auto transition-all duration-900 w-fit"
            >
              <div class="container mx-auto">
                <!-- Subnav content - right-aligned links -->
                <div class="flex justify-end space-x-4 py-3">
                  <a class="font-normal hover:text-tertiary" href="/overview_viz#viz"
                    >Visualizations</a
                  >
                  <!-- <span class="text-secondary">|</span>
                  <a class="font-normal hover:text-tertiary" href="/overview_viz#design">Design</a> -->
                  <!-- <span class="text-secondary">|</span> -->

                  <!-- <a
                                        class="font-normal hover:text-tertiary"
                                        href="/overview_viz#writing">Writing</a
                                    > -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Subnav Row (hidden by default) -->
    <div id="mobileSubnavRow" class="md:hidden w-full hidden py-2 border-t border-gray-200">
      <div class="flex flex-wrap justify-between gap-x-2 gap-y-2 uppercase text-[10px]">
        <a class="font-normal hover:text-tertiary" href="/">Data</a>
        <a class="font-normal hover:text-tertiary" href="/overview_viz#viz">Viz</a>
        <a class="font-normal hover:text-tertiary" href="/overview_viz#design">Design</a>

        <!-- <a
                    class="font-normal hover:text-tertiary"
                    href="/overview_viz#writing">Writing</a
                > -->
      </div>
    </div>
  </div>
</nav>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const mobileMenuButton = document.getElementById('mobileMenuButton');
    const mobileSubnavRow = document.getElementById('mobileSubnavRow');
    const menuOpen = document.getElementById('menuOpen');
    const menuClose = document.getElementById('menuClose');

    if (mobileMenuButton && mobileSubnavRow && menuOpen && menuClose) {
      mobileMenuButton.addEventListener('click', () => {
        const isOpen = mobileSubnavRow.classList.contains('hidden');

        if (isOpen) {
          mobileSubnavRow.classList.remove('hidden');
          menuOpen.classList.add('hidden');
          menuClose.classList.remove('hidden');
        } else {
          mobileSubnavRow.classList.add('hidden');
          menuOpen.classList.remove('hidden');
          menuClose.classList.add('hidden');
        }
      });
    }
  });
</script>
